<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>P√°gina de Sorteos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#ff0000,#ff7f00,#ffff00,#00ff00,#00ffff,#0000ff,#8b00ff);
  display:flex;align-items:center;justify-content:center;
  font-family:Arial,sans-serif;
}
.wrapper{display:flex;align-items:center;gap:6px}

/* ===== ANUNCIOS ===== */
.fake-ad{
  width:62px;height:235px;background:#111;border-radius:12px;color:#e0e0e0;
  font-size:10px;box-shadow:0 0 14px rgba(0,0,0,.7);
  position:relative;overflow:hidden;
}
.ad-header{padding:4px 6px;font-size:9px;opacity:.6}
.ad-company,.ad-video{
  position:absolute;top:18px;left:0;width:100%;height:calc(100% - 18px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:6px;text-align:center;transition:opacity .6s;
}
.ad-icon{width:34px;height:34px;border-radius:8px;background:linear-gradient(135deg,#3a7bd5,#00d2ff)}
.ad-title{font-weight:bold;font-size:11px}
.ad-sub{font-size:9px;opacity:.7}

/* fake video */
.video{width:44px;height:80px;position:relative;border-radius:6px;overflow:hidden;background:#000}
.video-frame{position:absolute;inset:0;transition:opacity .4s;background-size:cover;background-position:center;filter:blur(1.2px) brightness(.8)}
.frame1{
  background-image:linear-gradient(rgba(0,0,0,.25),rgba(0,0,0,.25)),url("https://picsum.photos/80/140?random=31");
}
.frame2{
  background-image:linear-gradient(rgba(0,0,0,.25),rgba(0,0,0,.25)),url("https://picsum.photos/80/140?random=42");
}
.progress{width:40px;height:4px;background:#222;border-radius:3px;overflow:hidden}
.progress span{display:block;height:100%;width:20%;background:#00d2ff;animation:load 1.5s infinite}
@keyframes load{from{width:10%}to{width:90%}}

/* ===== APP ===== */
.app{
  width:360px;background:rgba(0,0,0,.65);border-radius:25px;
  padding:0 15px 25px;box-shadow:0 0 40px rgba(0,0,0,.7);
  text-align:center;position:relative;overflow:hidden;
}
.app::before{
  content:"";position:absolute;top:0;left:0;width:100%;height:80px;
  background:radial-gradient(ellipse at top,rgba(255,255,255,.25),transparent)
}
.linea-superior{
  width:60%;height:2px;margin:14px auto 10px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent)
}
.titulo{font-size:1.6rem;font-weight:bold;color:#fff;text-shadow:0 0 12px rgba(255,255,255,.8)}
.ruleta-container{position:relative;width:280px;height:280px;margin:10px auto 20px}
.flecha{
  position:absolute;top:-2px;left:50%;transform:translateX(-50%);
  width:0;height:0;border-left:14px solid transparent;border-right:14px solid transparent;border-top:24px solid #fff
}
canvas{width:100%;height:100%;border-radius:50%;background:#fff}
button{
  width:85%;padding:14px;font-size:1.1rem;border-radius:30px;border:none;
  background:linear-gradient(45deg,#ff9f00,#ff6a00);color:#fff;font-weight:bold
}
.resultado{margin-top:15px;font-size:1.3rem;color:#fff;text-shadow:0 0 10px rgba(255,255,255,.8)}
</style>
</head>

<body>

<div class="wrapper">

  <!-- AD IZQ -->
  <div class="fake-ad">
    <div class="ad-header">Ad ‚Ä¢ Sponsored</div>
    <div class="ad-company" id="lc">
      <div class="ad-icon"></div>
      <div class="ad-title"></div>
      <div class="ad-sub"></div>
    </div>
    <div class="ad-video" id="lv" style="opacity:0">
      <div class="video">
        <div class="video-frame frame1"></div>
        <div class="video-frame frame2" style="opacity:0"></div>
      </div>
      <div class="progress"><span></span></div>
      <div class="ad-sub">Loading video‚Ä¶</div>
    </div>
  </div>

  <!-- APP -->
  <div class="app">
    <div class="linea-superior"></div>
    <div class="titulo">P√ÅGINA DE SORTEOS</div>
    <div class="ruleta-container">
      <div class="flecha"></div>
      <canvas id="ruleta" width="280" height="280"></canvas>
    </div>
    <button id="girar">GIRAR</button>
    <div id="resultado" class="resultado"></div>
  </div>

  <!-- AD DER -->
  <div class="fake-ad">
    <div class="ad-header">Ad ‚Ä¢ Sponsored</div>
    <div class="ad-company" id="rc">
      <div class="ad-icon"></div>
      <div class="ad-title"></div>
      <div class="ad-sub"></div>
    </div>
    <div class="ad-video" id="rv" style="opacity:0">
      <div class="video">
        <div class="video-frame frame1"></div>
        <div class="video-frame frame2" style="opacity:0"></div>
      </div>
      <div class="progress"><span></span></div>
      <div class="ad-sub">Preparing content‚Ä¶</div>
    </div>
  </div>

</div>

<script>
/* ===== ADS DIN√ÅMICOS ===== */
const ads=[
 {t:"NEXA SYSTEMS",s:"Mobile Solutions"},
 {t:"ORBITAL LABS",s:"Smart Apps"},
 {t:"ZENIX TECH",s:"Cloud Services"},
 {t:"AURORA SOFT",s:"Digital Tools"}
];
let ai=0,showVideo=false;
function rotarAds(){
  const lc=document.getElementById("lc"),lv=document.getElementById("lv"),
        rc=document.getElementById("rc"),rv=document.getElementById("rv");
  if(showVideo){
    lc.style.opacity=rc.style.opacity=1;
    lv.style.opacity=rv.style.opacity=0;
    lc.querySelector(".ad-title").textContent=ads[ai%ads.length].t;
    lc.querySelector(".ad-sub").textContent=ads[ai%ads.length].s;
    rc.querySelector(".ad-title").textContent=ads[(ai+1)%ads.length].t;
    rc.querySelector(".ad-sub").textContent=ads[(ai+1)%ads.length].s;
    ai++;
  }else{
    lc.style.opacity=rc.style.opacity=0;
    lv.style.opacity=rv.style.opacity=1;
  }
  showVideo=!showVideo;
}
setInterval(rotarAds,6000);rotarAds();

/* alternar frames del fake video */
setInterval(()=>{
  document.querySelectorAll(".video").forEach(v=>{
    const f1=v.children[0],f2=v.children[1];
    f1.style.opacity = f1.style.opacity==="0" ? "1" : "0";
    f2.style.opacity = f1.style.opacity==="0" ? "1" : "0";
  });
},800);

/* ===== PARTICIPANTES (LISTA NUEVA) ===== */
const baseParticipantes=[
  "GISE2145","GISE2145",
  "DAI4239","DAI4239",
  "MILAGROS3140",
  "KARY8538","KARY8538",
  "MELI123",
  "TOMAS4392","TOMAS4392",
  "SOFY0405",
  "ROBER51B","ROBER51B","ROBER51B","ROBER51B","ROBER51B",
  "ROBER51B","ROBER51B","ROBER51B","ROBER51B","ROBER51B",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "EUGE3362",
  "MELANY7867",
  "CELIA5176","CELIA5176","CELIA5176",
  "ALE7152","ALE7152","ALE7152",
  "GER557","GER557","GER557","GER557","GER557","GER557",
  "GER557","GER557","GER557","GER557","GER557","GER557",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "ROSBILAT",
  "AINARA8437",
  "MABEL5430",
  "NATI4774",
  "MARIELA0711","MARIELA0711",
  "CRIS0966","CRIS0966",
  "NOEMI3287",
  "NICO2072",
  "KAREN6558",
  "JASMIN2544",
  "TAMARA0846",
  "PAO3577",
  "MONICA8933",
  "NAZA7611",
  "EV4758",
  "KARINA3941",
  "GABI2698",
  "JORGE6017",
  "YANNI3932","YANNI3932",
  "SANDRA6551",
  "GIME3471","GIME3471","GIME3471","GIME3471","GIME3471","GIME3471",
  "GIME3471","GIME3471","GIME3471","GIME3471","GIME3471","GIME3471",
  "YOHANA0608",
  "ceci6655"
];

/* intercalar para que no queden juntos */
function intercalar(l){
  const c={},r=[];l.forEach(n=>c[n]=(c[n]||0)+1);
  let k=Object.keys(c),ok=true;
  while(ok){ok=false;for(const n of k){if(c[n]>0){r.push(n);c[n]--;ok=true}}}
  return r;
}
const participantes=intercalar(baseParticipantes);

/* ===== RULETA ===== */
const canvas=document.getElementById("ruleta"),ctx=canvas.getContext("2d");
const boton=document.getElementById("girar"),res=document.getElementById("resultado");
const total=participantes.length,radio=canvas.width/2;
const colores=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ff924c"];
let ang=0,gir=false;

function draw(){
  const a=2*Math.PI/total;
  participantes.forEach((n,i)=>{
    ctx.beginPath();ctx.moveTo(radio,radio);
    ctx.arc(radio,radio,radio,i*a,(i+1)*a);
    ctx.fillStyle=colores[i%colores.length];ctx.fill();
    ctx.save();ctx.translate(radio,radio);ctx.rotate(i*a+a/2);
    ctx.textAlign="right";ctx.fillStyle="#fff";
    ctx.font="bold 12px Arial";ctx.fillText(n,radio-10,4);ctx.restore();
  });
}
draw();

boton.onclick=()=>{
  if(gir)return;gir=true;res.textContent="";
  const idx=participantes.indexOf("GIME3471"); // GANADOR FIJO
  const g=360/total;
  const fin=ang+6*360+(270-(idx*g+g/2));
  const ini=performance.now(),dur=5000,ia=ang;
  function anim(t){
    const p=Math.min((t-ini)/dur,1);
    ang=ia+(fin-ia)*(1-Math.pow(1-p,3));
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.save();ctx.translate(radio,radio);
    ctx.rotate(ang*Math.PI/180);ctx.translate(-radio,-radio);
    draw();ctx.restore();
    if(p<1)requestAnimationFrame(anim);
    else{res.textContent="üéâ GANADOR: GIME3471";gir=false}
  }
  requestAnimationFrame(anim);
};
</script>

</body>
</html>
