<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Ruleta de Sorteo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #111, #000);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Arial, sans-serif;
  color: #fff;
}

.container {
  max-width: 420px;
  width: 100%;
  text-align: center;
  padding: 20px;
}

h1 {
  text-shadow: 0 0 12px #00eaff;
}

.ruleta-container {
  position: relative;
  width: 320px;
  height: 320px;
  margin: 25px auto;
}

.ruleta {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 10px solid #00eaff;
  box-shadow: inset 0 0 25px rgba(255,255,255,0.25), 0 0 30px #00eaff;
  position: relative;
  overflow: hidden;
  transition: transform 5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.flecha {
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 16px solid transparent;
  border-right: 16px solid transparent;
  border-bottom: 32px solid #ff004c;
  z-index: 10;
}

.segmento {
  position: absolute;
  width: 50%;
  height: 50%;
  top: 50%;
  left: 50%;
  transform-origin: 0% 0%;
}

.segmento span {
  position: absolute;
  left: 108%;
  top: 50%;
  transform: translateY(-50%);
  font-size: 12px;
  white-space: nowrap;
  text-shadow: 0 0 6px #000;
}

button {
  margin-top: 12px;
  padding: 14px 36px;
  font-size: 1.05rem;
  background: linear-gradient(45deg, #00eaff, #0077ff);
  border: none;
  border-radius: 30px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 0 15px #00eaff;
}

button:disabled {
  opacity: 0.6;
}

.resultado {
  margin-top: 15px;
  font-size: 1.4rem;
  text-shadow: 0 0 10px #ffcc00;
}

/* ðŸ‘‡ textarea OCULTO */
#lista {
  display: none;
}
</style>
</head>

<body>
<div class="container">
  <h1>ðŸŽ° RULETA DE SORTEO ðŸŽ°</h1>

  <!-- ACA CARGÃS LOS NOMBRES (NO SE VE) -->
  <textarea id="lista">
Juan
Juan
Juan
Pedro
Pedro
Lucas
  </textarea>

  <div class="ruleta-container">
    <div class="flecha"></div>
    <div id="ruleta" class="ruleta"></div>
  </div>

  <button id="girar">GIRAR</button>

  <div id="resultado" class="resultado"></div>
</div>

<script>
const ruleta = document.getElementById("ruleta");
const lista = document.getElementById("lista");
const girarBtn = document.getElementById("girar");
const resultado = document.getElementById("resultado");

let participantes = [];
let girando = false;

function generarRuleta() {
  participantes = lista.value
    .split("\n")
    .map(n => n.trim())
    .filter(n => n);

  ruleta.innerHTML = "";
  if (participantes.length === 0) return;

  const grados = 360 / participantes.length;
  const colores = ["#ff004c", "#00eaff", "#ffcc00"];

  participantes.forEach((nombre, i) => {
    const seg = document.createElement("div");
    seg.className = "segmento";
    seg.style.transform = `rotate(${i * grados}deg)`;
    seg.style.background = colores[i % colores.length];
    seg.style.clipPath = "polygon(0 0, 100% 0, 0 100%)";

    const texto = document.createElement("span");
    texto.textContent = nombre;

    seg.appendChild(texto);
    ruleta.appendChild(seg);
  });
}

generarRuleta();

girarBtn.addEventListener("click", () => {
  if (girando || participantes.length < 2) return;

  girando = true;
  girarBtn.disabled = true;
  resultado.textContent = "";

  const indice = Math.floor(Math.random() * participantes.length);
  const grados = 360 / participantes.length;
  const objetivo =
    360 - (indice * grados + grados / 2);

  const vueltas = 6 * 360;
  ruleta.style.transform = `rotate(${vueltas + objetivo}deg)`;

  setTimeout(() => {
    resultado.textContent = `ðŸŽ‰ GANADOR: ${participantes[indice]}`;
    girando = false;
    girarBtn.disabled = false;
  }, 5000);
});
</script>
</body>
</html>
