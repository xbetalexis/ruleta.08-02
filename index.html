<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>P√°gina de Sorteos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#ff0000,#ff7f00,#ffff00,#00ff00,#00ffff,#0000ff,#8b00ff);
  display:flex;align-items:center;justify-content:center;
  font-family:Arial,sans-serif;
}
.wrapper{display:flex;align-items:center;gap:6px}

/* ===== RESPONSIVE ===== */
@media (max-width:900px){
  .fake-ad{display:none}
  .wrapper{justify-content:center}
}

/* ===== ANUNCIOS ===== */
.fake-ad{
  width:62px;height:235px;background:#111;border-radius:12px;color:#e0e0e0;
  font-size:10px;box-shadow:0 0 14px rgba(0,0,0,.7);
  position:relative;overflow:hidden;
}
.ad-header{padding:4px 6px;font-size:9px;opacity:.6}
.ad-company,.ad-video{
  position:absolute;top:18px;left:0;width:100%;height:calc(100% - 18px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:6px;text-align:center;transition:opacity .6s;
}
.ad-icon{width:34px;height:34px;border-radius:8px;background:linear-gradient(135deg,#3a7bd5,#00d2ff)}
.ad-title{font-weight:bold;font-size:11px}
.ad-sub{font-size:9px;opacity:.7}
.video{width:44px;height:80px;border-radius:6px;background:#000}
.video-frame{position:absolute;inset:0;filter:blur(1.2px) brightness(.8)}
.progress{width:40px;height:4px;background:#222;border-radius:3px;overflow:hidden}
.progress span{display:block;height:100%;width:20%;background:#00d2ff;animation:load 1.5s infinite}
@keyframes load{from{width:10%}to{width:90%}}

/* ===== APP ===== */
.app{
  width:360px;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(14px);
  border:1px solid rgba(255,255,255,.08);
  border-radius:25px;
  padding:0 15px 25px;
  box-shadow:0 0 40px rgba(0,0,0,.7);
  text-align:center;
  position:relative;
  overflow:hidden;
}
.app::before{
  content:"";position:absolute;top:0;left:0;width:100%;height:80px;
  background:radial-gradient(ellipse at top,rgba(255,255,255,.25),transparent)
}
.app::after{
  content:"";position:absolute;inset:0;
  background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Crect width='120' height='120' fill='rgba(255,255,255,0.015)'/%3E%3C/svg%3E");
  pointer-events:none;
}

.linea-superior{
  width:60%;height:2px;margin:10px auto 6px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent)
}

.datetime{
  font-size:.85rem;color:#eaeaea;margin-top:8px;
  text-shadow:0 0 6px rgba(255,255,255,.4)
}

.titulo{
  letter-spacing:1.5px;
  text-transform:uppercase;
  font-size:1.35rem;
  font-weight:bold;
  color:#fff;
  margin-top:6px;
}

.ruleta-container{
  position:relative;width:280px;height:280px;
  margin:12px auto 20px;
  transition:transform .6s ease;
}
.ruleta-container.zoom{transform:scale(1.06)}

.flecha{
  position:absolute;top:-2px;left:50%;transform:translateX(-50%);
  width:0;height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-top:24px solid #ffd700;
  filter:drop-shadow(0 0 6px rgba(255,215,0,.8));
}

canvas{
  width:100%;height:100%;border-radius:50%;
  box-shadow:
    0 10px 30px rgba(0,0,0,.6),
    inset 0 0 12px rgba(255,255,255,.25);
  background:#fff;
}

button{
  width:85%;padding:14px;font-size:1.1rem;border-radius:30px;border:none;
  background:linear-gradient(45deg,#ff9f00,#ff6a00);
  color:#fff;font-weight:bold;
  box-shadow:
    0 6px 18px rgba(255,106,0,.6),
    inset 0 1px 1px rgba(255,255,255,.4);
  transition:.25s;
}
button:active{transform:scale(.96)}

/* ===== OVERLAY ===== */
.overlay{
  position:absolute;inset:0;
  background:rgba(0,0,0,.65);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;
  transition:opacity .5s;
}
.overlay.show{opacity:1;pointer-events:auto}

.card{
  background:#111;
  border-radius:20px;
  padding:26px 30px;
  text-align:center;
  color:#fff;
  box-shadow:
    0 0 40px rgba(255,215,0,.25),
    0 0 90px rgba(0,0,0,.9);
  animation:pulse .6s ease;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.02)}
  100%{transform:scale(1)}
}
.card .winner{
  font-size:1.8rem;
  font-weight:bold;
  color:#ffd700;
  text-shadow:0 0 10px rgba(255,215,0,.8);
}
.card .foot{font-size:.75rem;opacity:.5}
</style>
</head>

<body>

<div class="wrapper">
  <div class="app">
    <div class="linea-superior"></div>
    <div class="datetime"><span id="fecha"></span> ‚è∞ <span id="hora"></span></div>
    <div class="titulo">P√°gina de Sorteos</div>

    <div class="ruleta-container" id="ruletaBox">
      <div class="flecha"></div>
      <canvas id="ruleta" width="280" height="280"></canvas>
    </div>

    <button id="girar">GIRAR</button>

    <div class="overlay" id="overlay">
      <div class="card">
        <h2>üèÜ RESULTADO FINAL</h2>
        <div class="winner" id="winnerName">GIME3471</div>
        <div class="foot" id="fechaResultado"></div>
      </div>
    </div>
  </div>
</div>

<script>
function actualizarHora(){
  const a=new Date();
  fecha.textContent=a.toLocaleDateString("es-AR");
  hora.textContent=a.toLocaleTimeString("es-AR",{hour12:false})+" (GMT-3)";
}
setInterval(actualizarHora,1000);actualizarHora();

const participantes=["GIME3471","GIME3471","GIME3471","GIME3471"];
const canvas=document.getElementById("ruleta"),ctx=canvas.getContext("2d");
const total=participantes.length,radio=canvas.width/2;
const colores=["#ff595e","#ffca3a","#8ac926","#1982c4"];
let ang=0,gir=false;

function draw(){
  const a=2*Math.PI/total;
  participantes.forEach((n,i)=>{
    ctx.beginPath();ctx.moveTo(radio,radio);
    ctx.arc(radio,radio,radio,i*a,(i+1)*a);
    ctx.fillStyle=colores[i%colores.length];ctx.fill();
    ctx.save();ctx.translate(radio,radio);ctx.rotate(i*a+a/2);
    ctx.textAlign="right";ctx.fillStyle="#fff";
    ctx.font="bold 12px Arial";ctx.fillText(n,radio-10,4);ctx.restore();
  });
}
draw();

girar.onclick=()=>{
  if(gir)return;gir=true;
  const idx=0;
  const g=360/total;
  const fin=ang+6*360+(270-(idx*g+g/2));
  const ini=performance.now(),dur=5000,ia=ang;

  function anim(t){
    const p=Math.min((t-ini)/dur,1);
    ang=ia+(fin-ia)*(1-Math.pow(1-p,3));
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.save();ctx.translate(radio,radio);
    ctx.rotate(ang*Math.PI/180);ctx.translate(-radio,-radio);
    draw();ctx.restore();
    if(p<1)requestAnimationFrame(anim);
    else{
      ruletaBox.classList.add("zoom");
      const a=new Date();
      fechaResultado.textContent=a.toLocaleString("es-AR");
      overlay.classList.add("show");
      gir=false;
    }
  }
  requestAnimationFrame(anim);
};
</script>

</body>
</html>
