<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>P√°gina de Sorteos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background: linear-gradient(
    135deg,#ff0000,#ff7f00,#ffff00,#00ff00,#00ffff,#0000ff,#8b00ff
  );
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Arial,sans-serif;
}

.wrapper{
  display:flex;
  align-items:center;
  gap:6px;
}

/* ===== ANUNCIOS ===== */
.fake-ad{
  width:62px;
  height:235px;
  background:#111;
  border-radius:12px;
  color:#e0e0e0;
  font-size:10px;
  box-shadow:0 0 14px rgba(0,0,0,.7);
  position:relative;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.ad-header{
  padding:4px 6px;
  font-size:9px;
  opacity:.6;
}

.ad-body{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  text-align:center;
  transition:opacity .6s;
}

.ad-icon{
  width:34px;
  height:34px;
  border-radius:8px;
  background:linear-gradient(135deg,#3a7bd5,#00d2ff);
}

.ad-title{
  font-weight:bold;
  font-size:11px;
}

.ad-sub{
  font-size:9px;
  opacity:.7;
}

.ad-footer{
  font-size:8px;
  text-align:center;
  opacity:.4;
  padding-bottom:6px;
}

/* ===== APP ===== */
.app{
  width:360px;
  background:rgba(0,0,0,.65);
  border-radius:25px;
  padding:0 15px 25px;
  box-shadow:0 0 40px rgba(0,0,0,.7);
  text-align:center;
  position:relative;
  overflow:hidden;
}

.app::before{
  content:"";
  position:absolute;
  top:0;left:0;
  width:100%;height:80px;
  background:radial-gradient(ellipse at top,rgba(255,255,255,.25),transparent);
}

.linea-superior{
  width:60%;
  height:2px;
  margin:14px auto 10px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent);
}

.titulo{
  font-size:1.6rem;
  font-weight:bold;
  color:#fff;
  text-shadow:0 0 12px rgba(255,255,255,.8);
}

.ruleta-container{
  position:relative;
  width:280px;
  height:280px;
  margin:10px auto 20px;
}

.flecha{
  position:absolute;
  top:-2px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-top:24px solid #fff;
}

canvas{
  width:100%;
  height:100%;
  border-radius:50%;
  background:#fff;
}

button{
  width:85%;
  padding:14px;
  font-size:1.1rem;
  border-radius:30px;
  border:none;
  background:linear-gradient(45deg,#ff9f00,#ff6a00);
  color:#fff;
  font-weight:bold;
  box-shadow:0 0 20px rgba(255,140,0,.6);
}

.resultado{
  margin-top:15px;
  font-size:1.3rem;
  color:#fff;
  text-shadow:0 0 10px rgba(255,255,255,.8);
}
</style>
</head>

<body>

<div class="wrapper">

  <!-- AD IZQUIERDO -->
  <div class="fake-ad">
    <div class="ad-header">Ad ‚Ä¢ Sponsored</div>
    <div class="ad-body" id="adLeft">
      <div class="ad-icon"></div>
      <div class="ad-title"></div>
      <div class="ad-sub"></div>
    </div>
    <div class="ad-footer">via MobileAds</div>
  </div>

  <!-- APP -->
  <div class="app">
    <div class="linea-superior"></div>
    <div class="titulo">P√ÅGINA DE SORTEOS</div>

    <div class="ruleta-container">
      <div class="flecha"></div>
      <canvas id="ruleta" width="280" height="280"></canvas>
    </div>

    <button id="girar">GIRAR</button>
    <div id="resultado" class="resultado"></div>
  </div>

  <!-- AD DERECHO -->
  <div class="fake-ad">
    <div class="ad-header">Ad ‚Ä¢ Sponsored</div>
    <div class="ad-body" id="adRight">
      <div class="ad-icon"></div>
      <div class="ad-title"></div>
      <div class="ad-sub"></div>
    </div>
    <div class="ad-footer">via AdCore SDK</div>
  </div>

</div>

<script>
/* ===== DATOS DE ANUNCIOS ===== */
const ads = [
  {title:"NEXA SYSTEMS", sub:"Mobile Solutions"},
  {title:"ORBITAL LABS", sub:"Smart Apps"},
  {title:"ZENIX TECH", sub:"Cloud Services"},
  {title:"AURORA SOFT", sub:"Digital Tools"},
  {title:"LYNX MOBILE", sub:"App Platform"}
];

let adIndex = 0;
function rotarAds(){
  const left = document.getElementById("adLeft");
  const right = document.getElementById("adRight");
  left.style.opacity = right.style.opacity = 0;
  setTimeout(()=>{
    const a = ads[adIndex%ads.length];
    const b = ads[(adIndex+1)%ads.length];
    left.querySelector(".ad-title").textContent = a.title;
    left.querySelector(".ad-sub").textContent = a.sub;
    right.querySelector(".ad-title").textContent = b.title;
    right.querySelector(".ad-sub").textContent = b.sub;
    left.style.opacity = right.style.opacity = 1;
    adIndex++;
  },400);
}
setInterval(rotarAds,4000);
rotarAds();

/* ===== PARTICIPANTES ===== */
const baseParticipantes = [
  "MILAGROS3140","KARY8538","KARY8538","MELI123",
  "TOMAS4392","TOMAS4392","SOFY0405",
  "ROBER51B","ROBER51B","ROBER51B","ROBER51B","ROBER51B",
  "ROBER51B","ROBER51B","ROBER51B","ROBER51B","ROBER51B",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "MALE3515","MALE3515","MALE3515","MALE3515","MALE3515",
  "EUGE3362","MELANY7867",
  "CELIA5176","CELIA5176","CELIA5176",
  "ALE7152","ALE7152",
  "GER557","GER557","GER557","GER557","GER557","GER557",
  "GER557","GER557","GER557","GER557","GER557","GER557",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290","TIHAGO1290",
  "ROSBILAT","AINARA8437","MABEL5430","NATI4774",
  "MARIELA0711","MARIELA0711","CRIS0966","CRIS0966",
  "NOEMI3287","NICO2072","KAREN6558","JASMIN2544",
  "TAMARA0846","PAO3577","MONICA8933","NAZA7611","EV4758",
  "KARINA3941","GABI2698","JORGE6017","YANNI3932","SANDRA6551",
  "GIME3471","GIME3471","GIME3471","GIME3471","GIME3471","GIME3471",
  "GIME3471","GIME3471","GIME3471","GIME3471","GIME3471","GIME3471"
];

/* ===== INTERCALADO ===== */
function intercalar(lista){
  const c={}; lista.forEach(n=>c[n]=(c[n]||0)+1);
  const k=Object.keys(c),r=[];
  let ok=true;
  while(ok){
    ok=false;
    for(const n of k){
      if(c[n]>0){r.push(n);c[n]--;ok=true;}
    }
  }
  return r;
}

const participantes = intercalar(baseParticipantes);

/* ===== RULETA ===== */
const canvas=document.getElementById("ruleta");
const ctx=canvas.getContext("2d");
const boton=document.getElementById("girar");
const resultado=document.getElementById("resultado");
const total=participantes.length;
const radio=canvas.width/2;
const colores=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ff924c"];
let anguloActual=0,girando=false;

function dibujar(){
  const a=(2*Math.PI)/total;
  participantes.forEach((n,i)=>{
    ctx.beginPath();
    ctx.moveTo(radio,radio);
    ctx.arc(radio,radio,radio,i*a,(i+1)*a);
    ctx.fillStyle=colores[i%colores.length];
    ctx.fill();
    ctx.save();
    ctx.translate(radio,radio);
    ctx.rotate(i*a+a/2);
    ctx.textAlign="right";
    ctx.fillStyle="#fff";
    ctx.font="bold 12px Arial";
    ctx.fillText(n,radio-10,4);
    ctx.restore();
  });
}
dibujar();

boton.onclick=()=>{
  if(girando)return;
  girando=true;
  resultado.textContent="";
  const idx=participantes.indexOf("GIME3471");
  const g=360/total;
  const obj=270-(idx*g+g/2);
  const fin=anguloActual+6*360+obj;
  const ini=performance.now(),dur=5000,ia=anguloActual;
  function anim(t){
    const p=Math.min((t-ini)/dur,1);
    anguloActual=ia+(fin-ia)*(1-Math.pow(1-p,3));
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.save();
    ctx.translate(radio,radio);
    ctx.rotate(anguloActual*Math.PI/180);
    ctx.translate(-radio,-radio);
    dibujar();
    ctx.restore();
    if(p<1)requestAnimationFrame(anim);
    else{resultado.textContent="üéâ GANADOR: GIME3471";girando=false;}
  }
  requestAnimationFrame(anim);
};
</script>

</body>
</html>
